#--------------------------------------------------------------------------------
## PERMANOVA ~ Year
#--------------------------------------------------------------------------------
perm_sp=adonis2(dist_matrix ~ Year, data = Fish_trophic_site)
perm_sp
pair.mod<-pairwise.adonis(dist_matrix,factors=Fish_trophic_site$Year)
pair.mod
#--------------------------------------------------------------------------------
## PERMANOVA ~ Site
#--------------------------------------------------------------------------------
perm_sp=adonis2(dist_matrix ~ Site, data = Fish_trophic_site)
perm_sp
#--------------------------------------------------------------------------------
## PERMANOVA ~ Protection
#--------------------------------------------------------------------------------
perm_sp=adonis2(dist_matrix ~ Protection, data = Fish_trophic_site)
perm_sp
#--------------------------------------------------------------------------------
## PERMANOVA ~ Cyclone
#--------------------------------------------------------------------------------
perm_sp=adonis2(dist_matrix ~ cyclone, data = Fish_trophic_site)
perm_sp
pair.mod<-pairwise.adonis(dist_matrix,factors=Fish_trophic_site$cyclone)
pair.mod
#--------------------------------------------------------------------------------
## PERMANOVA ~ Year*cyclone*Protection
#--------------------------------------------------------------------------------
perm_sp=adonis2(dist_matrix ~ cyclone*Year*Protection, data = Fish_trophic_site)
perm_sp
#--------------------------------------------------------------------------------
## PERMANOVA ~ Protection/Year
#--------------------------------------------------------------------------------
perm_sp=adonis2(dist_matrix ~ Protection/Year, data = Fish_trophic_site,  by= "margin", permutations = 999)
perm_sp
library(statsr)
library(dplyr)
library(ggplot2)
# load all csv files in a list
setwd("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/")
temp = list.files(pattern="*.csv")
myfiles = lapply(temp, read.csv,header = FALSE, sep=";")
# keep only relevant columns and rows
rawd = map(myfiles, ~ .x%>%
select(1:2)%>%
filter(row_number() %in% c(6:9,11:21,27:79,81:92,94,96:97,99:113,115:119,121:124,126,128,130:132,134,141:147)))
# join all dataframes from the list
rawd2<-rawd %>%
reduce(left_join, by = "V1")
View(rawd2)
# Transpose and clean big dataframe
Benthic_cover_site <- as.data.frame(t(rawd2))
colnames(Benthic_cover_site) <- Benthic_cover_site[1,]
Benthic_cover_site <- Benthic_cover_site[-1,]
rownames(Benthic_cover_site) <- seq(1,nrow(Benthic_cover_site))
Benthic_cover_site[,c(2:ncol(Benthic_cover_site))] <- as.numeric(unlist(Benthic_cover_site[,c(2:ncol(Benthic_cover_site))]))
Benthic_cover_site$`TRANSECT NAME` <- gsub(" FB", "-Fish Bowl", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("FR", "-Frenchman Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" LBR", "-Long Bay Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MM", "-Mikes Mazes", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MS", "-Moonscape", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" PR", "-Proselyte Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" SH", "-Shark Hotel", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2016 ", "2016", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("POST I 2017", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_post ", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("PRE I 2017", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_pre ", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
names(Benthic_cover_site)[1] <- "Site_ID"
View(Benthic_cover_site)
# remove columns with no occurrence (!! NOt always working)
Benthic_cover_site <- Benthic_cover_site[, which(colSums(Benthic_cover_site[,c(5:ncol(Benthic_cover_site))]) != 0)]
View(rawd2)
# Transpose and clean big dataframe
Benthic_cover_site <- as.data.frame(t(rawd2))
colnames(Benthic_cover_site) <- Benthic_cover_site[1,]
Benthic_cover_site <- Benthic_cover_site[-1,]
rownames(Benthic_cover_site) <- seq(1,nrow(Benthic_cover_site))
Benthic_cover_site[,c(2:ncol(Benthic_cover_site))] <- as.numeric(unlist(Benthic_cover_site[,c(2:ncol(Benthic_cover_site))]))
Benthic_cover_site$`TRANSECT NAME` <- gsub(" FB", "-Fish Bowl", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("FR", "-Frenchman Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" LBR", "-Long Bay Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MM", "-Mikes Mazes", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MSC", "-Moonscape", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" PR", "-Proselyte Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" SH", "-Shark Hotel", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2016 ", "2016", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("POST I 2017", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_post ", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("PRE I 2017", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_pre ", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
names(Benthic_cover_site)[1] <- "Site_ID"
# remove columns with no occurrence (!! NOt always working)
Benthic_cover_site <- Benthic_cover_site[, which(colSums(Benthic_cover_site[,c(5:ncol(Benthic_cover_site))]) != 0)]
rawd2 <- sub(" (.*", "", rawd2)
rawd2$V1 <- sub(" (.*", "", rawd2$V1)
rawd2$V1 <- gsub("\\s*\\([^\\)]+\\)","",as.character(rawd2$V1))
# Transpose and clean big dataframe
Benthic_cover_site <- as.data.frame(t(rawd2))
colnames(Benthic_cover_site) <- Benthic_cover_site[1,]
Benthic_cover_site <- Benthic_cover_site[-1,]
rownames(Benthic_cover_site) <- seq(1,nrow(Benthic_cover_site))
Benthic_cover_site[,c(2:ncol(Benthic_cover_site))] <- as.numeric(unlist(Benthic_cover_site[,c(2:ncol(Benthic_cover_site))]))
Benthic_cover_site$`TRANSECT NAME` <- gsub(" FB", "-Fish Bowl", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("FR", "-Frenchman Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" LBR", "-Long Bay Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MM", "-Mikes Mazes", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MSC", "-Moonscape", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" PR", "-Proselyte Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" SH", "-Shark Hotel", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2016 ", "2016", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("POST I 2017", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_post ", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("PRE I 2017", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_pre ", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
names(Benthic_cover_site)[1] <- "Site_ID"
# remove columns with no occurrence (!! NOt always working)
Benthic_cover_site <- Benthic_cover_site[, which(colSums(Benthic_cover_site[,c(5:ncol(Benthic_cover_site))]) != 0)]
# Transpose and clean big dataframe
Benthic_cover_site <- as.data.frame(t(rawd2))
colnames(Benthic_cover_site) <- Benthic_cover_site[1,]
Benthic_cover_site <- Benthic_cover_site[-1,]
rownames(Benthic_cover_site) <- seq(1,nrow(Benthic_cover_site))
Benthic_cover_site[,c(2:ncol(Benthic_cover_site))] <- as.numeric(unlist(Benthic_cover_site[,c(2:ncol(Benthic_cover_site))]))
Benthic_cover_site$`TRANSECT NAME` <- gsub(" FB", "-Fish Bowl", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("FR", "-Frenchman Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" LBR", "-Long Bay Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MM", "-Mikes Mazes", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" MSC", "-Moonscape", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" PR", "-Proselyte Reef", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub(" SH", "-Shark Hotel", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2016 ", "2016", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("POST I 2017", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_post ", "2017_post", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("PRE I 2017", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
Benthic_cover_site$`TRANSECT NAME` <- gsub("2017_pre ", "2017_pre", Benthic_cover_site$`TRANSECT NAME`)
names(Benthic_cover_site)[1] <- "Site_ID"
write.csv(Benthic_cover_site, file = "c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site.csv", row.names = FALSE)
write.csv(Benthic_cover_site, file = "c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site.csv", row.names = FALSE)
library(tidyverse)
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=";")
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=",")
View(Benthic_cover)
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
colnames(Benthic_cover) <- gsub(".", " ", colnames(Benthic_cover))
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=",")
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub(".", " ", names(Benthic_cover))
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=",")
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub(".", "_", names(Benthic_cover))
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=",")
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub("\\.", " ", names(Benthic_cover))
Benthic_cover_site2 <- Benthic_cover %>%
select(Site_ID, .[,5:112])%>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
Benthic_cover_site2 <- Benthic_cover %>%
select(Site_ID, .[,c(5:112)])%>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
Benthic_cover_site2 <- Benthic_cover[,c(113,5:112)]
View(Benthic_cover_site2)
Benthic_cover_site2 <- Benthic_cover_site2 %>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
View(Benthic_cover_site2)
Benthic_cover <- Benthic_cover[-nrow(Benthic_cover),]
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=",")
Benthic_cover <- Benthic_cover[-nrow(Benthic_cover),]
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub("\\.", " ", names(Benthic_cover))
unique(Benthic_cover$Site_ID)
meta <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/1 - Metadata/GCRMN_metadata.csv", sep = ";", na.strings = "")
View(meta)
meta <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/1 - Metadata/GCRMN_metadata.csv", sep = ",", na.strings = "")
View(meta)
unique(meta$Site_ID)
View(meta)
Benthic_cover$Site_ID <- gsub("2019-Fishbowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FishBowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FrenchmanReef", "2019-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef- T2P1000873.JPG", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef Reef", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-MikesMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Mike'sMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
unique(Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2023-FrenchmanReef", "2023-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover_site2 <- Benthic_cover[,c(113,5:112)]
Benthic_cover_site2 <- Benthic_cover_site2 %>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
View(Benthic_cover_site2)
Benthic_cover_site2$TOTAL <- rowSums(Benthic_cover_site2[,-1])
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/Benthic_cover/percent_covers.csv", sep=",")
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/percent_covers.csv", sep=",")
Benthic_cover <- Benthic_cover[-nrow(Benthic_cover),]
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub("\\.", " ", names(Benthic_cover))
Benthic_cover$Site_ID <- gsub("2019-Fishbowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FishBowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FrenchmanReef", "2019-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef- T2P1000873.JPG", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef Reef", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-MikesMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Mike'sMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2023-FrenchmanReef", "2023-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover_site2 <- Benthic_cover[,c(113,5:112)]
Benthic_cover_site2 <- Benthic_cover_site2 %>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
View(Benthic_cover_site2)
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_species_CPCe.rdata")
test1 <- as.data.frame(t(Benthic_cover_site2))
test2 <- as.data.frame(t(Benthic_cover_site_species))
test <- full_join(test1,test2)
View(test1)
View(test2)
View(test1)
colnames(test1) <- test1[1,]
test1$Annot <- rownames(test1)
test1 <- test1[-1,]
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site_species[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
common_names
diff_names <- setdiff(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
colnames(Benthic_cover_site2) <- gsub(" spp ","", colnames(Benthic_cover_site2))
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site_species[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
colnames(Benthic_cover_site2) <- gsub("Coral Juvenile","Coral juvenile", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub(" sp ","", colnames(Benthic_cover_site2))
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site_species[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
colnames(Benthic_cover_site2) <- gsub("CCA  crustose coralline algae ","Coralline algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turf algae","Turf", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turbinaria  algae ","Turbinaria", colnames(Benthic_cover_site2))
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site_species[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
colnames(Benthic_cover_site2) <- gsub("Dead Gorgonian","Dead gorgonian", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead coral algae","Dead coral with algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("other disease","Other disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("white band disease","White Band Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("White Plague  type II","Plague, Type II", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Old dead coral  encrusting ","Old dead coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Diseased Coral","Diseased coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Yellow band disease","Yellow Blotch Disease", colnames(Benthic_cover_site2))
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site_species[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
colnames(Benthic_cover_site2) <- gsub("Other like" ,"OTHER LIVE" , colnames(Benthic_cover_site2))
colnames(Benthic_cover_site) <- gsub("Montastraea faveolata","Orbicella faveolata", colnames(Benthic_cover_site))
colnames(Benthic_cover_site2) <- gsub("Montastraea faveolata","Orbicella faveolata", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastrea cavernosa","Montastraea cavernosa", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Mycetophyllia lamarckana","Mycetophyllia lamarckiana", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Stephanocoenia michellini","Stephanocoenia intersepta", colnames(Benthic_cover_site2))
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_species_CPCe.rdata")
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site_CPCe.rdata")
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site_species[,-1])
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/percent_covers.csv", sep=",")
Benthic_cover <- Benthic_cover[-nrow(Benthic_cover),]
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub("\\.", " ", names(Benthic_cover))
Benthic_cover$Site_ID <- gsub("2019-Fishbowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FishBowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FrenchmanReef", "2019-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef- T2P1000873.JPG", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef Reef", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-MikesMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Mike'sMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2023-FrenchmanReef", "2023-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover_site2 <- Benthic_cover[,c(113,5:112)]
Benthic_cover_site2 <- Benthic_cover_site2 %>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
colnames(Benthic_cover_site2) <- gsub(" spp ","", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Coral Juvenile","Coral juvenile", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub(" sp ","", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("CCA  crustose coralline algae ","Coralline algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turf algae","Turf", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turbinaria  algae ","Turbinaria", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead Gorgonian","Dead gorgonian", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead coral algae","Dead coral with algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("other disease","Other disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("white band disease","White Band Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("White Plague  type II","Plague, Type II", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Old dead coral  encrusting ","Old dead coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Diseased Coral","Diseased coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Yellow band disease","Yellow Blotch Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Other like" ,"OTHER LIVE" , colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastraea faveolata","Orbicella faveolata", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastrea cavernosa","Montastraea cavernosa", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Mycetophyllia lamarckana","Mycetophyllia lamarckiana", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Stephanocoenia michellini","Stephanocoenia intersepta", colnames(Benthic_cover_site2))
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site_CPCe.rdata")
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
colnames(Benthic_cover_site2) <- gsub("Diploria stigosa","Pseudodiploria strigosa", colnames(Benthic_cover_site2))
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site_CPCe.rdata")
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
Benthic_cover_site2 <- Benthic_cover_site2 %>%
select(-c(Shadow, TAPE, Wand))
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/percent_covers.csv", sep=",")
Benthic_cover <- Benthic_cover[-nrow(Benthic_cover),]
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub("\\.", " ", names(Benthic_cover))
Benthic_cover$Site_ID <- gsub("2019-Fishbowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FishBowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FrenchmanReef", "2019-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef- T2P1000873.JPG", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef Reef", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-MikesMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Mike'sMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2023-FrenchmanReef", "2023-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover_site2 <- Benthic_cover[,c(113,5:112)]
Benthic_cover_site2 <- Benthic_cover_site2 %>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
colnames(Benthic_cover_site2) <- gsub(" spp ","", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Coral Juvenile","Coral juvenile", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub(" sp ","", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("CCA  crustose coralline algae ","Coralline algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turf algae","Turf", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turbinaria  algae ","Turbinaria", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead Gorgonian","Dead gorgonian", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead coral algae","Dead coral with algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("other disease","Other disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("white band disease","White Band Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("White Plague  type II","Plague, Type II", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Old dead coral  encrusting ","Old dead coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Diseased Coral","Diseased coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Yellow band disease","Yellow Blotch Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Other like" ,"OTHER LIVE" , colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastraea faveolata","Orbicella faveolata", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastrea cavernosa","Montastraea cavernosa", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Mycetophyllia lamarckana","Mycetophyllia lamarckiana", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Stephanocoenia michellini","Stephanocoenia intersepta", colnames(Benthic_cover_site2))
Benthic_cover_site2 <- Benthic_cover_site2 %>%
select(-c(Shadow, TAPE, Wand, `Diploria stigosa`))
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site_CPCe.rdata")
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CoralNet
unique_CPCe
Benthic_cover_site$`Agaricia humilis` <- 0
Benthic_cover_site$Rhodophyta <- 0
common_names
Benthic_cover_site2$Peyssonnelid <- 0
Benthic_cover_site2$Cyanobacteria <- 0
Benthic_cover_site2$Halophylla <- 0
Benthic_cover_site2$Tunicate <- 0
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
unique_CPCe
Benthic_cover_site2$CORAL <- sum(Benthic_cover_site2[,c(2:21,23:56)])
Benthic_cover_site2$CORAL <- rowSum(Benthic_cover_site2[,c(2:21,23:56)])
Benthic_cover_site2$CORAL <- rowSums(Benthic_cover_site2[,c(2:21,23:56)])
Benthic_cover_site2$`DISEASED CORALS` <- rowSums(Benthic_cover_site2[,22])
Benthic_cover_site2$CORAL <- rowSums(Benthic_cover_site2[,c(2:21,23:56,64:66)])
Benthic_cover_site2$`DISEASED CORALS` <- rowSums(Benthic_cover_site2[,c(22,81,83,88:90)])
Benthic_cover_site2$`CORALLINE ALGAE` <- rowSums(Benthic_cover_site2[,92])
Benthic_cover_site2$SPONGES <- rowSums(Benthic_cover_site2[,75])
Benthic_cover_site2$ZOANTHIDS <- rowSums(Benthic_cover_site2[,76])
Benthic_cover_site2$`SAND, PAVEMENT, RUBBLE` <- rowSums(Benthic_cover_site2[,c(77,79,85])
Benthic_cover_site2$`SAND, PAVEMENT, RUBBLE` <- rowSums(Benthic_cover_site2[,c(77,79,85)])
Benthic_cover_site2$GORGONIANS <- rowSums(Benthic_cover_site2[,c(58:63,67:74)])
Benthic_cover_site2$MACROALGAE <- rowSums(Benthic_cover_site2[,c(91,93:106,108)])
Benthic_cover_site2$`OTHER LIVE` <- rowSums(Benthic_cover_site2[,c(80,82,84,107,109)])
Benthic_cover_site2$`OTHER LIVE` <- rowSums(Benthic_cover_site2[,c(57,80,82,84,107,109)])
Benthic_cover_site2$UNKNOWNS <- rowSums(Benthic_cover_site2[,87])
unique_site <- unique(Benthic_cover_site2$Site_ID)
i=1
df <- Benthic_cover %>%
filter(Site_ID==unique_site[[i]])
View(df)
for (i in 1:length(unique_site)) {
df <- Benthic_cover %>%
filter(Site_ID==unique_site[[i]])
Benthic_cover_site2[i,"Number of frames"] <- nrow(df)
}
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/percent_covers.csv", sep=",")
Benthic_cover <- read.csv("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/2 - Raw_data/2 - CSV/percent_covers.csv", sep=",")
Benthic_cover <- Benthic_cover[-nrow(Benthic_cover),]
Benthic_cover$Site_ID <- sub("_T.*", "",Benthic_cover$Image.name)
Benthic_cover$Site_ID <- gsub("_", "-", Benthic_cover$Site_ID)
names(Benthic_cover) <- gsub("\\.", " ", names(Benthic_cover))
Benthic_cover$Site_ID <- gsub("2019-Fishbowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FishBowl", "2019-Fish Bowl", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-FrenchmanReef", "2019-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef- T2P1000873.JPG", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Long Bay Reef Reef", "2019-Long Bay Reef", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-MikesMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2019-Mike'sMaze", "2019-Mikes Maze", Benthic_cover$Site_ID)
Benthic_cover$Site_ID <- gsub("2023-FrenchmanReef", "2023-Frenchman Reef", Benthic_cover$Site_ID)
Benthic_cover_site2 <- Benthic_cover[,c(113,5:112)]
Benthic_cover_site2 <- Benthic_cover_site2 %>%
group_by(Site_ID)%>%
summarise_all(funs(mean))
colnames(Benthic_cover_site2) <- gsub(" spp ","", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Coral Juvenile","Coral juvenile", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub(" sp ","", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("CCA  crustose coralline algae ","Coralline algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turf algae","Turf", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Turbinaria  algae ","Turbinaria", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead Gorgonian","Dead gorgonian", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Dead coral algae","Dead coral with algae", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("other disease","Other disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("white band disease","White Band Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("White Plague  type II","Plague, Type II", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Old dead coral  encrusting ","Old dead coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Diseased Coral","Diseased coral", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Yellow band disease","Yellow Blotch Disease", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Other like" ,"OTHER LIVE" , colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastraea faveolata","Orbicella faveolata", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Montastrea cavernosa","Montastraea cavernosa", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Mycetophyllia lamarckana","Mycetophyllia lamarckiana", colnames(Benthic_cover_site2))
colnames(Benthic_cover_site2) <- gsub("Stephanocoenia michellini","Stephanocoenia intersepta", colnames(Benthic_cover_site2))
Benthic_cover_site2$Peyssonnelid <- 0
Benthic_cover_site2$Cyanobacteria <- 0
Benthic_cover_site2$Halophylla <- 0
Benthic_cover_site2$Tunicate <- 0
Benthic_cover_site2 <- Benthic_cover_site2 %>%
select(-c(Shadow, TAPE, Wand, `Diploria stigosa`))
Benthic_cover_site2$CORAL <- rowSums(Benthic_cover_site2[,c(2:21,23:56,64:66)])
Benthic_cover_site2$`DISEASED CORALS` <- rowSums(Benthic_cover_site2[,c(22,81,83,88:90)])
Benthic_cover_site2$`CORALLINE ALGAE` <- rowSums(Benthic_cover_site2[,92])
Benthic_cover_site2$`DEAD CORAL WITH ALGAE` <- rowSums(Benthic_cover_site2[,78])
Benthic_cover_site2$SPONGES <- rowSums(Benthic_cover_site2[,75])
Benthic_cover_site2$ZOANTHIDS <- rowSums(Benthic_cover_site2[,76])
Benthic_cover_site2$`SAND, PAVEMENT, RUBBLE` <- rowSums(Benthic_cover_site2[,c(77,79,85)])
Benthic_cover_site2$GORGONIANS <- rowSums(Benthic_cover_site2[,c(58:63,67:74)])
Benthic_cover_site2$MACROALGAE <- rowSums(Benthic_cover_site2[,c(91,93:106,108)])
Benthic_cover_site2$`OTHER LIVE` <- rowSums(Benthic_cover_site2[,c(57,80,82,84,107,109)])
Benthic_cover_site2$UNKNOWNS <- rowSums(Benthic_cover_site2[,87])
unique_site <- unique(Benthic_cover_site2$Site_ID)
for (i in 1:length(unique_site)) {
df <- Benthic_cover %>%
filter(Site_ID==unique_site[[i]])
Benthic_cover_site2[i,"Number of frames"] <- nrow(df)
}
View(Benthic_cover_site2)
# load CPCe data
load("c://Users/mathonlocal/Desktop/CORENA Project/Reef_Monitoring/Data/3 - Clean_data/Benthic_cover_site_CPCe.rdata")
Benthic_cover_site$`Agaricia humilis` <- 0
Benthic_cover_site$Rhodophyta <- 0
names_CoralNet <- names(Benthic_cover_site2[,-1])
names_CPCe <- names(Benthic_cover_site[,-1])
common_names <- intersect(names_CoralNet, names_CPCe)
unique_CoralNet <- setdiff(names_CoralNet, names_CPCe)
unique_CPCe <- setdiff(names_CPCe, names_CoralNet)
# Reorder columns and assemble both dataframes
Benthic_cover_site2 <- Benthic_cover_site2[,names(Benthic_cover_site)]
Benthic_cover_site_all <- rbind(Benthic_cover_site, Benthic_cover_site2)
View(Benthic_cover_site_all)
